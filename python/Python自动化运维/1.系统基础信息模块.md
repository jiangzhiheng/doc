### 一、系统性能信息模块`psutil`

1. 安装：

   源码安装步骤：

   ```shell
   git clone https://github.com/giampaolo/psutil.git
   cd psutil
   python3 setup.py instal
   ```

   ```shell
   pip3 install psutil
   ```

2. 概述：

   `psutil`能够轻松获取系统运行的进程和系统利用率（包括CPU，磁盘，内存，网络等）信息，主要应用于系统监控，分析和限制系统资源及进程的管理。

3. 获取系统性能信息

   1. `CPU`信息

      ```python
      import psutil
      print(psutil.cpu_times())  # 获取cpu完整信息
      print(psutil.cpu_times().user)
      print(psutil.cpu_count())  # 获取cpu个数，默认logical=True
      print(psutil.cpu_count(logical=False))
      ```

   2. 内存信息

      ```python
      import psutil
      mem = psutil.virtual_memory()
      print(mem)
      print(mem.total,mem.used)
      print(psutil.swap_memory())
      ```

   3. 磁盘信息

      ```python
      import psutil
      print(psutil.disk_partitions()) # 获取磁盘完整信息
      print(psutil.disk_usage("/"))  # 获取分区使用情况
      print(psutil.disk_io_counters()) # 获取硬盘总的IO个数
      print(psutil.disk_io_counters(perdisk=True)) # 获取单个分区的IO个数
      ```

   4. 网络信息

      ```python
      import psutil
      print(psutil.net_io_counters()) # 获取网络总的IO信息，默认pernic=False
      print(psutil.net_io_counters(pernic=True))
      ```

   5. 其它系统信息

      ```python
      import psutil
      print(psutil.users())  # 获取当前登录的用户信息
      print(psutil.boot_time())
      ```

4. 系统进程管理方法

   1. 进程信息

      ```python
      import psutil
      
      print(psutil.pids())  # 列出所有进程pid
      p = psutil.Process(6448) # 实例化一个Process对象，参数为某进程pid
      print(p.name())
      print(p.exe())  # 进程bin路径
      print(p.cwd())  # 进程工作目录绝对路径
      print(p.status())
      print(p.create_time())
      print(p.cpu_times())
      print(p.memory_percent())
      print(p.memory_info())
      print(p.io_counters())
      print(p.num_threads())
      ```

   2. `popen`类的使用

      `psutil`提供的`popen`类的作用是获取用户启动的应用程序进程信息，一遍跟踪程序进程的运行状态

      ```python
      import psutil
      from subprocess import PIPE
      # 通过popen启动的应用程序，可以追踪该程序运行的所有相关信息
      p = psutil.Popen(["/usr/bin/python3","-c","print('hello')"],stdout=PIPE)
      print(p.name())
      print(p.username())
      print(p.connections())
      print(p.cpu_times)
      ```

### 二、`IP`地址处理模块`IPy`