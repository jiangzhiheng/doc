一、 邮件发送

1. 配置`settings.py`

   设置临时环境变量

   - `windows`下：

     设置：`set 名称=值`

     获取：`set 名称`

   - `Linux`

     设置：`export 名称=值`

     获取：`echo $名称`

   ```python
   # 配置发送邮件所需的配置
   EMAIL_HOST = 'smtp.qq.com'   # smtp服务器
   EMAIL_HOST_PASSWORD = os.environ.get('MAIL_PASSWORD')  # 邮箱密码或授权码
   EMAIL_HOST_USER = os.environ.get('MAIL_USER')  # 用户名
   
   # 测试条件下需要提前将所需变量配置在系统环境变量
   ```

2. 发送单人邮件

   ```python
   from django.shortcuts import render,HttpResponse
   from django.core.mail import send_mail
   from django.conf import settings
   
   # 发送一封邮件
   # 发送纯文本消息
   """
   def sendMail(req):
       send_mail(
           '主题',
           '邮件内容', 
           settings.EMAIL_HOST_USER,
           ['1689991551@qq.com'],
           fail_silently=False,
       )
       return HttpResponse('发送邮件')
   """
   # 发送html邮件
   def sendMail(req):
       send_mail(
           '主题',
           '',  # 占位message
           settings.EMAIL_HOST_USER,
           ['1689991551@qq.com'],
           html_message='<a href="www.baidu.com">测试发送链接地址</a>',
           fail_silently=False,
       )
       return HttpResponse('发送邮件')
   
   ```

3. 发送多人邮件：

   ```python
   # 发送多人邮件
   def sendManyEmail(req):
       message1 = ('Subject here', 'Here is the message', 'from@example.com', ['first@example.com', 'other@example.com'])
       message2 = ('Another Subject', 'Here is another message', 'from@example.com', ['second@test.com'])
       send_mass_mail((message1, message2), fail_silently=False)
       HttpResponse('给多人发送邮件')
   ```

   注意：

   - 只能发送文本邮件，不能发送`html message`内容





