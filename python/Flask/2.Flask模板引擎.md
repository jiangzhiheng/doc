### 模板引擎：

- 说明

  模板文件就是按照特定规则书写的一个负责展示效果的`HTML`文件，模板引擎就是提供特定规则的解释和替换的工具。

- `Jinja2`

  `Flask`的模板引擎使用的就是`Jinja2`的模板引擎，它是由`flask`核心开发组成员开发的

### 一、模板的使用

1. 准备工作 （目录结构）

   ```python
   project/
   	manage.py		项目启动的控制文件
       templates/		模板文件的目录
   ```

2. 渲染模板文件

   在`templates`模板目录下创建一个模板文件`hello.html`，内容如下

   ```html
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <title>Title</title>
   </head>
   <body>
   <h4>Hello Templates</h4>
   </body>
   </html>
   ```

3. 创建`hello`视图函数，代码如下

   ```python
   @app.route('/hello/')
   def hello():
       return 'hello'
   ```

4. 渲染模板的方法

   - `render_template(模板名称，**context)`：渲染模板
   - `render_template_string(渲染的html代码，**context)`：返回一段渲染的`html`代码

   使用实例：

   ```python
   @app.route('/hello/')
   def hello():
       # 渲染模板文件
       # return render_template('hello.html')
       return render_template_string('<p style="font-size: 20px;color: yellow;">Hello tee..</p>')
   
   ```

5. 使用变量

   **简介：**

   - 视图传递给模板的数据

   - 遵循标识符的命名规则

   - 语法格式

     `{{ var_name }}`

   - 如果模板使用的变量不存在，则插入的为空白字符

   **实例：**

   `manage.py`

   ```python
   @app.route('/hello/')
   def hello():
       # 渲染模板文件
       return render_template('hello.html',name='marry',age=18,sex='男',hobby='LOL')
   ```

   ```html
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <title>Title</title>
   </head>
   <body>
   <h5>我叫:{{ name }}, 我今年{{ age }}岁了，我的性别是{{ sex }}, 我的爱好是{{ hobby }}。</h5>
   </body>
   </html>
   ```

### 二、标签

1. 格式：

   `{% tag %}`

2. 作用：

   1. 在输出中创建文本
   2. 控制逻辑和循环

3. 流程控制之`if`

   **主体结构**

   ```jinja2
   {% if ... %}
   ...
   {% elif ... %}
   ...
   {% else %}
   ...
   {% endif %}
   ```

   **实例：**

   ```jinja2
   <h2>测试标签的使用</h2>
   {% if grade >= 90 %}
       成绩为 {{ grade }} 优秀
   {% elif grade >= 80 %}
       成绩为 {{ grade }} 良好
   {% elif grade >=60 %}
       成绩为 {{ grade }} 合格
   {% else %}
       成绩为 {{ grade }} 不合格
   {% endif %}
   ```

4. 流程控制之循环`for`

   **主体结构**

   ```jinja2
   {% for item in Iterable %}
   ...
   {% else %}
   ...
   {% endfor %}
   ```

   实例：

   ```jinja2
   <h4>for 循环的使用</h4>
   <ul>
       {% for i in myRange %}
       <li>{{ i }}</li>
       {% else %}
       <p>该变量不存在</p>
       {% endfor %}
   </ul>
   ```

   迭代字典的实例：

   ```jinja2
   <h4>迭代字典</h4>
   {% for key,value in infoDict.items() %}
       <p>key---->{{ key }}  value---->{{ value }}</p>
   {% endfor %}
   ```

   **注意：**

   - `for`循环搭配的`else`，只有迭代的变量不存在的时候，才会执行`else`

   - 循环不可以使用`continue`和`break`来控制循环的执行

   - 在`for`循环中还包含以下变量，用来获取当前的遍历状态

     |     变量      |                 描述                 |
     | :-----------: | :----------------------------------: |
     | `loop.index`  |       当前迭代的索引，从1开始        |
     | `loop.index0` |       当前迭代的索引，从0开始        |
     | `loop.first`  |  是否为第一次迭代，返回`True/False`  |
     |  `loop.last`  | 是否为最后一次迭代，返回`True/False` |
     | `loop.length` |              迭代的长度              |

     实例：

     ```jinja2
     <h4>获取迭代时的状态</h4>
     <ul>
         {% for i in myRange %}
         <li>{{ loop.index }}--{{ loop.index0 }}--{{ loop.last }}--{{ loop.first }}</li>
         {% endfor %}
     </ul>
     ```

### 三、注释标签（多行注释）

1. 作用：

   - 代码调试
   - 简介和说明

2. 格式

   ```html
   {# 这是一个注释 #}
   ```

   注意：注释的代码不会在页面中显示出来

