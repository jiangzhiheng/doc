### **正则表达式**

1. 概述

   正则表达式（Regular Expression）是一种字符模式，用于在查找过程中匹配指定的字符。

   在大多数程序里，正则表达式都被置于两个斜杠之间；例如`/l[oO]ve/`就是由正则斜杠界定的正则表达式

   - 匹配数字 ： `^[0-9]+$`
   - 匹配Mail：`[a-z0-9_]+@[a-z0-9]+\.[a-z]+`
   - 匹配IP：`[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}`

2. 元字符

   定义：元字符是这样一类字符，它们表达的是不同于字面本身的含义

   - 正则表达式元字符

     1. 基本正则表达式元字符

        |   元字符   |           功能           |               示例                |
        | :--------: | :----------------------: | :-------------------------------: |
        |     ^      |        行首定位符        |                                   |
        |     $      |        行尾定位符        |                                   |
        |     .      |       匹配单个字符       |                                   |
        |     *      |    匹配前导符0到多次     |                                   |
        |     .*     |       任意多个字符       |                                   |
        |     []     | 匹配指定范围内的一个字符 |                                   |
        |   [ - ]    | 匹配指定范围内的一个字符 |                                   |
        |     \      |          转义符          |                                   |
        |    \\<     |        词首定位符        |                                   |
        |    \\>     |        词尾定位符        |                                   |
        |  \\(..\\)  | 匹配稍后使用的字符的标签 | :3,9 s/\\(.*\\)/#\1/   注释3到9行 |
        |  x\\{m\\}  |       字符x重复m次       |                                   |
        | x\\{m,\\}  |     字符x出现m次以上     |                                   |
        | x\\{m,n\\} |    字符x出现m次到n次     |                                   |

     2. 扩展正则表达式元字符

        |    元字符    |          功能          | 示例 |
        | :----------: | :--------------------: | :--: |
        |      +       | 匹配一个或多个前导字符 |      |
        |      ？      | 匹配0个或一个前导字符  |      |
        |     a\|b     |       匹配a或者b       |      |
        |      ()      |         组字符         |      |
        | (..)(..)\1\2 |      标签匹配字符      |      |
        |     x{m}     |      字符x重复m次      |      |
        |    x{m,}     |    字符x重复至少m次    |      |
        |    x{m,n}    |    字符x重复m到n次     |      |

     3. POSIX字符类

        | 表达式    | 功能                             | 示例            |
        | --------- | -------------------------------- | --------------- |
        | [:alnum:] | 字母与数字字符                   | [[:alnum:]]+    |
        | [:alpha:] | 字母字符（包括大小写）           |                 |
        | [:blank:] | 空格与制表符                     |                 |
        | [:digit:] | 数字                             | [[:digit:]]?    |
        | [:lower:] | 小写字母                         | [[:lower:]]{5,} |
        | [:upper:] | 大写字母                         |                 |
        | [:punct:] | 标点符号                         |                 |
        | [:space:] | 包括换行符，回车等在内的所有空白 | [[:space:]]+    |

3. 正则表达式示例

   /^$/   空行

   /^#/	注释行

   .....

### **`grep`家族**

- `grep`：在文件中全局查找指定的正则表达式，并打印所有包含该表达式的行
- `egrep`：扩展的`egrep`，支持更多的表达式元字符
- `fgrep`：固定`grep(fixed grep)`,有时也被称为快速`(fast grep)`，它按字面意思解释所有的字符

1. `grep`命令格式

   `grep [options]  PATTERN filename filename....`

   `grep`程序的输入可以来自标准输入或管道，而不仅仅是文件

2. `grep`使用的元字符

   `grep`  :  使用基本的元字符  ^  $  .   *   [ ]  \[^]  \\<  \\>   \\(\\)   \\{\\}  \\+  \\|  

   `egrep` :  使用扩展的元字符  ? +  { }  |   ()

   \w  :    所有字母与数字，称为字符`[a-zA-Z0-9]` 

   \W  :   所有字母与数字之外的字符，称为非字符

   \b    :   词边界   `  '\\<love\\> '     '\blove\b'  `

3. `grep`示例

   `grep -E  或egrep`

4. `grep`选项

   - -i     忽略大小写

   - -q    静默显示

   - -v    反向查找，只显示不匹配的行

   - -c    --count  显示成功匹配的行

     `grep  --help | grep  '\-v'`

   - -r     递归整个目录

   - -o     只显示匹配道德内容

     `   egrep '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'  /etc/hosts `  匹配IP地址
     
     `egrep '([0-9]{1,3}).{3}\.[0-9]{1,3}'  /etc/hosts`    匹配IP地址



