一、`Mysql`表单查询`select`：`DQL`

- 简单查询

- 通过条件查询

- 查询排序

- 限制查询记录数

- 使用集合函数查询

- 分组查询

- 使用正则表达式查询

  

- 准备环境：

  表`employee5`

  ```sql
  雇员编号
  雇员姓名
  雇员性别
  雇佣时间
  职位
  职位描述
  薪水
  办公室
  部门编号
  mysql> create table employee5(
      -> id int primary key auto_increment not null,
      -> name varchar(30) not null,
      -> sex enum('male','female') default 'male' not null,
      -> hire_date date not null,
      -> post varchar(50) not null,
      -> job_description varchar(100),
      -> salary double(15,2) not null,
      -> office int,
      -> dep_id int
      -> );
      
  mysql> insert into employee5(name,sex,hire_date,post,job_description,salary,office,dep_id) values
      -> ('jack','male','20190202','instructor','teach',5000,501,100),
      -> ('tom','male','20190203','instructor','teach',5500,501,100),
      -> ('robin','male','20190202','instructor','teach',8000,501,100),
      -> ('alice','female','20190202','instructor','teach',7200,501,100),
      -> ('martin','male','20190202','hr','hrcc',7200,501,100),
      -> ('martin','male','20190202','hr','NULL',6000,501,101),
      -> ('martin','male','20190202','sale','salecc',6000,503,102)
      -> ;
  ```

1. 简单查询

   - 简单查询

     `select * from employee5;`

     `select name,salary,dep_id from employee5;`

   - 避免重复`DISTINCT`

     `select post from employee5;`

     `select distinct post from employee5;`

     注：不能部分使用`DISTINCT`，通常仅用于某一字段。

   - 通过四则运算查询

     `select name,salary,salary*14 from employee5;`

     `select name,salary,salary*14 AS Annual_salary from employee5;` `#AS Annual_salary别名`

     `select name,salary,salary*14 Annual_salary from employee5;`

   - 定义显示格式

     `CONCAT()`函数用于连接字符串

     `select concat(name,'annual salary:',salary*14) AS Annual_salary from employee5`

2. 单条件查询

   - 单条件查询

     `select name,post from employee5 where post='hr';`

   - 多条件查询

     `select name,salary from employee5 where post='hr' and salary>10000;`

   - 关键字`BETWEEN AND`

     `select name,salary from employee5 where salary NOT between 5000 and 15000;`

   - 关键字 `IS NULL`

     `select name,job_description  from employee5 where job_description is null;`

   - 关键字`IN`集合查询

     `select name,salary from employee5 where salary=4000 OR salary=5000 OR salary=6000 OR salary=9000;`

     `select name,salary from employee5 where salary IN(4000,5000,6000,9000);`

     `select name,salary from employee5 where salary NOT IN(4000,5000,6000,9000);`

   - 关键字`LIKE`模糊查询

     - 通配符'%'，任意多个字符

       `select * from employee5 where name like 'al%';`

     - 通配符'_'，任意单个字符

       `select * from employee5 where name like 'al__'`

3. 查询排序

   - 按单列排序

     `select * from employee5 order by salary;`

     `select name,salary from employee5 order by salary ASC;`   从大到小，升序

     `select name,salary from employee5 order by salary DESC;`  从小到大，降序

   - 按多列排序

     `select * from employee5 order by hire_date DESC,salary ASC;`

4. 限制查询的记录数

   `select * from employee5 order by salary DESC LIMIT5;` //默认初始位置为0

   `select * from employee5 order by salary DESC LIMIT 0,5;`    //显示前5条

   `select * from employee5 order by salary DESC LIMIT 0,5;`   //从第4条开始，共显示5条

5. 使用集合函数查询

   `select count(*) from employee5;`   //查询条目数量

   `select count(*) from employee5 where dep_id=101;`

   `select max(salary) from employee5;`

   `select min(salary) from employee5;`

   `select avg(salary) from employee5;`

   `select sum(salary) from employee5;`

   `select sum(salary) from employee5 where dep_id=101;`

6. 分组查询

   ``

7. 

